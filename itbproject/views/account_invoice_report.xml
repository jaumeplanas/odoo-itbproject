<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="report_invoice_document"
                  inherit_id="account.report_invoice_document">
            <xpath expr="//div[@class='row mt32 mb32']" position="replace">
                <div class="row mt32 mb32">
                    <div class="col-xs-2" t-if="o.date_invoice">
                        <strong>Invoice Date:</strong>
                        <p t-field="o.date_invoice"/>
                    </div>
                    <div class="col-xs-2" t-if="o.date_invoice">
                        <strong>Due Date:</strong>
                        <p t-field="o.date_due"/>
                    </div>
                    <div class="col-xs-8" t-if="o.name">
                        <strong>Description:</strong>
                        <p t-field="o.name"/>
                    </div>
                </div>
            </xpath>

            <xpath expr="(//div[@class='page']/table/tbody/tr/td)[5]/span" position="replace">
                <span t-esc="', '.join(map(lambda x: x.description, l.invoice_line_tax_id))"/>
            </xpath>

            <xpath expr="//p[@t-if='o.comment']" position="replace"/>
            <xpath expr="//p[@t-if='o.payment_term.note']" position="replace"/>
            <xpath expr="//p[@t-if='o.fiscal_position.note']"
                   position="replace"/>

            <xpath expr="//div[@t-if='o.tax_line']" position="after">
                <div class="row" mt="32">
                    <div class="col-xs-4" t-if="o.payment_term.note">
                        <strong>Payment Term:</strong>
                        <p t-field="o.payment_term.note"/>
                    </div>
                    <div class="col-xs-8"
                         t-if="o.company_id.bank_ids[0].acc_number">
                        <strong>Bank Account:</strong>
                        <p t-field="o.company_id.bank_ids[0].acc_number"/>
                    </div>
                </div>
                <p t-if="o.comment">
                    <strong>Comment:</strong>
                    <span t-field="o.comment"/>
                </p>
                <p t-if="o.fiscal_position.note">
                    <strong>Fiscal Position Remark:</strong>
                    <span t-field="o.fiscal_position.note"/>
                </p>
            </xpath>
        </template>

        <template id="external_layout_header" inherit_id="report.external_layout_header">
            <xpath expr="//div[@class='header']" position="replace">
                    <div class="header">
        <div class="row">
            <div class="col-xs-4">
                <img t-if="company.logo" t-att-src="'data:image/png;base64,%s' % company.logo" style="max-height: 45px;"/>
            </div>
            <div class="col-xs-8 text-right" style="margin-top:20px;" t-field="company.rml_header1"/>
        </div>
        <div class="row zero_min_height">
            <div class="col-xs-12">
                <div style="border-bottom: 1px solid black;"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-3">
                <div t-field="company.partner_id"
                    t-field-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": true}'/>
                <div style="border-bottom: 1px solid black;">
                    <span>NIF:</span>
                    <span t-field="company.vat"/>
                </div>
            </div>
        </div>
    </div>
            </xpath>
        </template>
    </data>
</openerp>